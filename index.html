<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Food Haven</title>
    <style>
        :root {
            --orange: #f97316;
            --orange-dark: #ea580c;
            --dark: #1f2937;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: "Segoe UI",sans-serif;
        }

        body {
            color: #374151;
            overflow-x: hidden;
        }

        #bg-canvas {
            position: fixed;
            inset: 0;
            z-index: -1;
        }

        /* HEADER */
        header {
            position: sticky;
            top: 0;
            z-index: 1000;
            padding: 22px 32px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(255,255,255,.95);
            backdrop-filter: blur(6px);
            border-bottom: 2px solid #000;
            border-radius: 0 0 18px 18px;
            transition: transform .4s ease,opacity .4s ease;
            opacity: 0;
            transform: translateY(-40px) translateZ(0);
        }

            header.show {
                opacity: 1;
                transform: translateY(0) translateZ(0);
            }

            header.hide {
                transform: translateY(-120%) translateZ(0);
                opacity: 0;
            }

        .logo {
            height: 50px;
            animation: logoGlow 3s ease-in-out infinite;
            opacity: 0;
            transform: translateY(-20px);
            transition: .6s ease;
        }

            .logo.show {
                opacity: 1;
                transform: translateY(0);
            }

        @keyframes logoGlow {
            0% {
                filter: drop-shadow(0 0 0px rgba(249,115,22,0));
            }

            50% {
                filter: drop-shadow(0 0 12px rgba(249,115,22,.8));
            }

            100% {
                filter: drop-shadow(0 0 0px rgba(249,115,22,0));
            }
        }

        .header-right {
            display: flex;
            align-items: center;
            gap: 16px;
            position: relative;
        }

        /* SEARCH */
        .search-container {
            position: relative;
            opacity: 0;
            transform: translateY(-20px);
            transition: .6s ease .15s;
        }

            .search-container.show {
                opacity: 1;
                transform: translateY(0);
            }

        .search-input {
            padding: 10px 16px;
            border-radius: 30px;
            border: 2px solid #e5e7eb;
            font-size: 16px;
            outline: none;
            width: 220px;
            transition: .3s;
        }

            .search-input:focus {
                border-color: var(--orange);
                box-shadow: 0 0 0 3px rgba(249,115,22,.15);
            }

        .search-results {
            position: absolute;
            top: 45px;
            left: 0;
            width: 100%;
            background: #fff;
            border-radius: 12px;
            box-shadow: 0 10px 25px rgba(0,0,0,.08);
            max-height: 220px;
            overflow-y: auto;
            display: none;
            z-index: 2000;
        }

        .search-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px;
            cursor: pointer;
            transition: .2s;
        }

            .search-item:hover {
                background: #fff5ed;
            }

            .search-item img {
                width: 30px;
                height: 30px;
                object-fit: cover;
                border-radius: 6px;
            }

        /* CART */
        .cart-button {
            position: relative;
            width: 44px;
            height: 44px;
            border-radius: 12px;
            background: #fff;
            border: 3px solid #545454;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            opacity: 0;
            transform: translateY(-20px);
            transition: .6s ease .3s;
        }

            .cart-button.show {
                opacity: 1;
                transform: translateY(0);
            }

            .cart-button svg {
                width: 22px;
                fill: var(--dark);
            }

        .cart-count {
            position: absolute;
            top: -6px;
            right: -6px;
            background: var(--orange);
            color: #fff;
            min-width: 20px;
            height: 20px;
            padding: 0 6px;
            border-radius: 999px;
            font-size: 12px;
            font-weight: 700;
            display: flex;
            align-items: center;
            justify-content: center;
        }


        .hero {
            padding: 160px 20px 120px;
            text-align: center;
            opacity: 0;
            transform: translateY(40px);
            transition: .8s ease;
        }

            .hero.show {
                opacity: 1;
                transform: translateY(0);
            }

        .hero-title {
            font-size: 48px;
            font-weight: 800;
            color: var(--dark);
            margin-bottom: 15px;
        }

        .hero-tagline {
            font-size: 22px;
            color: #823600;
            margin-bottom: 40px;
        }

        .hero-images {
            position: relative;
            width: 340px;
            height: 340px;
            margin: 20px auto 0; /* was 50px */
            display: flex;
            align-items: center;
            justify-content: center;
        }


        .hero-img {
            position: absolute;
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
            opacity: 0;
            transform: scale(0.85);
            animation: heroCycle 9s infinite;
        }


        .img1 {
            animation-delay: 0s;
        }

        .img2 {
            animation-delay: 3s;
        }

        .img3 {
            animation-delay: 6s;
        }

        @keyframes heroCycle {
            0% {
                opacity: 0;
                transform: scale(0.85);
            }

            10% {
                opacity: 1;
                transform: scale(1);
            }

            30% {
                opacity: 1;
                transform: scale(1);
            }

            40% {
                opacity: 0;
                transform: scale(0.9);
            }

            100% {
                opacity: 0;
            }
        }



        /* PRODUCTS */
        .products {
            padding: 120px 20px;
        }

            .products h3 {
                text-align: center;
                font-size: 30px;
                margin-bottom: 50px;
                opacity: 0;
                transform: translateY(40px);
                transition: .8s ease;
            }

                .products h3.show {
                    opacity: 1;
                    transform: translateY(0);
                }

        .section-divider {
            text-align: center;
            margin: 100px auto 60px;
            font-size: 26px;
            font-weight: 700;
            color: var(--dark);
            position: relative;
        }

            .section-divider::before,
            .section-divider::after {
                content: "";
                position: absolute;
                top: 50%;
                width: 35%;
                height: 2px;
                background: #e5e7eb;
            }

            .section-divider::before {
                left: 0;
            }

            .section-divider::after {
                right: 0;
            }

        .grid {
            max-width: 1100px;
            margin: auto;
            display: grid;
            gap: 35px;
            grid-template-columns: repeat(3,1fr);
        }

        .card {
            background: #fff;
            border-radius: 16px;
            box-shadow: 0 12px 30px rgba(0,0,0,.08);
            overflow: hidden;
            transition: .4s;
            opacity: 0;
            transform: translateY(50px);
            will-change: transform, opacity;
        }


            .card.show {
                opacity: 1;
                transform: translateY(0);
            }

            .card:hover {
                transform: translateY(-6px);
            }

            .card img {
                width: 100%;
                height: 200px;
                object-fit: cover;
            }

        .card-body {
            padding: 22px;
        }

        .price {
            font-weight: 700;
            color: var(--orange);
            margin-bottom: 14px;
        }

        .controls {
            display: flex;
            align-items: center;
            gap: 10px;
        }

            .controls button {
                flex: 1;
                padding: 14px 0;
                border: none;
                border-radius: 8px;
                font-size: 18px;
                font-weight: 700;
                cursor: pointer;
                touch-action: manipulation;
            }


        .add {
            background: var(--orange);
            color: #fff;
        }

        .remove {
            background: #e5e7eb;
        }

        .qty {
            min-width: 36px;
            text-align: center;
            font-weight: 700;
        }

        .card.highlight {
            animation: focusProduct .8s ease;
        }

        @keyframes focusProduct {
            50% {
                transform: scale(1.06);
            }
        }

        /* CART PANEL */
        .overlay {
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,.45);
            opacity: 0;
            pointer-events: none;
            transition: .3s;
            z-index: 998;
        }

            .overlay.show {
                opacity: 1;
                pointer-events: auto;
            }

        .cart {
            position: fixed;
            top: 0;
            right: 0;
            width: 360px;
            height: 100%;
            background: #fff;
            padding: 25px;
            transform: translateX(100%);
            transition: transform .3s ease;
            z-index: 999;
            overflow-y: auto;
            box-shadow: -10px 0 30px rgba(0,0,0,.15);
            will-change: transform;
        }

            .cart.open {
                transform: translateX(0);
            }


            .cart input {
                width: 100%;
                padding: 10px;
                margin-bottom: 12px;
                border: 1px solid #ddd;
                border-radius: 8px;
                font-size: 14px;
            }

            .cart textarea {
                width: 100%;
                padding: 10px;
                margin-bottom: 12px;
                border: 1px solid #ddd;
                border-radius: 8px;
                font-size: 14px;
                resize: none;
            }

        .cart-item {
            background: #f1f5f9;
            border-radius: 10px;
            padding: 12px;
            margin-bottom: 14px;
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
        }


        .cart-left {
            display: flex;
            flex-direction: column;
        }

        .cart-controls {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-top: 6px;
        }

            .cart-controls button {
                width: 28px;
                height: 28px;
                border: none;
                border-radius: 6px;
                background: var(--orange);
                color: white;
                font-weight: 700;
                cursor: pointer;
                touch-action: manipulation;
            }

            .cart-controls span {
                min-width: 20px;
                text-align: center;
                font-weight: 700;
            }


        .cart-total {
            margin-top: 20px;
            font-size: 18px;
            font-weight: 700;
            color: var(--orange);
        }
        /* ABOUT BUTTON */
        .about-button {
            width: 44px;
            height: 44px;
            border-radius: 12px;
            background: #fff;
            border: 3px solid #545454;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            opacity: 0;
            transform: translateY(-20px);
            transition: .6s ease .45s;
        }

            .about-button.show {
                opacity: 1;
                transform: translateY(0);
            }

            .about-button svg {
                width: 20px;
                color: var(--dark);
            }
        .about-panel {
            position: fixed;
            top: 0;
            right: 0;
            width: 360px;
            height: 100%;
            background: #fff;
            padding: 30px;
            opacity: 0;
            pointer-events: none;
            transition: opacity .25s ease;
            z-index: 999;
            overflow-y: auto;
            box-shadow: -10px 0 30px rgba(0,0,0,.15);
        }


            .about-panel.open {
                opacity: 1;
                pointer-events: auto;
            }


            .about-panel h2 {
                margin-bottom: 15px;
                color: var(--dark);
            }

            .about-panel p {
                line-height: 1.6;
                margin-bottom: 15px;
                color: #555;
            }


        .order-btn {
            margin-top: 20px;
            width: 100%;
            padding: 16px;
            border: none;
            border-radius: 12px;
            background: var(--orange);
            color: #fff;
            font-weight: 700;
            cursor: pointer;
        }

        /* MOBILE FIX */
        @media(max-width:600px) {

            header {
                padding: 18px 15px;
            }

            .search-input {
                width: 140px;
            }

            .header-right {
                gap: 10px;
            }

            .products {
                padding: 100px 15px;
            }

            .grid {
                grid-template-columns: 1fr;
            }

            /* Divider fix */
            .section-divider {
                font-size: 20px;
                margin: 60px auto 40px;
            }

                .section-divider::before,
                .section-divider::after {
                    width: 20%;
                }
        }


        footer {
            background: var(--dark);
            color: #d1d5db;
            text-align: center;
            padding: 30px;
            margin-top: 80px;
        }
        .footer-link {
            display: block;
            margin-top: 10px;
            color: var(--orange);
            font-weight: 600;
            text-decoration: none;
        }


    </style>
</head>

<body>

    <canvas id="bg-canvas"></canvas>

    <header id="mainHeader">
        <img src="images/foodhaven.png" class="logo">
        <div class="header-right">
            <div class="search-container">
                <input type="text" class="search-input" id="searchInput" placeholder="Search food heaven...">
                <div class="search-results" id="searchResults"></div>
            </div>
            <div class="cart-button" onclick="toggleCart()">
                <svg viewBox="0 0 24 24">
                    <path d="M6 6h15l-1.5 9h-12z" />
                    <circle cx="9" cy="21" r="1.5" />
                    <circle cx="18" cy="21" r="1.5" />
                    <path d="M6 6l-2-4h-2" />
                </svg>
                <div class="cart-count" id="cart-count">0</div>
            </div>
            <div class="about-button" onclick="toggleAbout()">
                <svg viewBox="0 0 24 24">
                    <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" fill="none" />
                    <line x1="12" y1="10" x2="12" y2="16" stroke="currentColor" stroke-width="2" />
                    <circle cx="12" cy="7" r="1" fill="currentColor" />
                </svg>
            </div>

        </div>
    </header>
    <section class="hero">
        <h1 class="hero-title">Food Haven</h1>
        <p class="hero-tagline">Flavors That Feel Like Home</p>

        <div class="hero-images">
            <img src="images/hero-dryfruits.png" class="hero-img img1" alt="Dry Fruits">
            <img src="images/hero-masalas.png" class="hero-img img2" alt="Masalas">
            <img src="images/hero-achar.png" class="hero-img img3" alt="Achar">
        </div>
    </section>
    <section class="products">
        <h3>Our Delights</h3>

        <div class="section-divider">Dry Fruits</div>
        <div class="grid" id="dryfruits-grid"></div>

        <div class="section-divider">Masalas</div>
        <div class="grid" id="masalas-grid"></div>

        <div class="section-divider">Achars</div>
        <div class="grid" id="achars-grid"></div>
    </section>





    <div class="overlay" id="overlay" onclick="closePanels()"></div>


    <div class="cart" id="cart">
        <h3>Your Cart</h3>
        <input type="text" id="customerName" placeholder="Customer Name">
        <input type="tel" id="customerPhone" placeholder="Mobile Number">
<textarea id="customerAddress" placeholder="Delivery Address" rows="3"></textarea>

        <div id="cart-items"></div>
        <div class="cart-total">Total: â‚¹<span id="total">0</span></div>
        <button class="order-btn" onclick="sendWhatsAppOrder()">Send Order on WhatsApp</button>
    </div>
    <div class="about-panel" id="aboutPanel">

        <h2>About Us â€“ Food Haven</h2>

        <p>
            Food Haven is a trusted and quality-focused food company committed to delivering
            safe, hygienic, and great-tasting food products. We believe that good food is the
            foundation of a healthy and happy life, and our goal is to bring quality and trust
            to every customer.
        </p>

        <p>
            At Food Haven, we follow strict quality control processes and use carefully
            selected raw materials to ensure consistent taste and superior standards.
            Our products are prepared using modern techniques and processed under hygienic
            conditions in compliance with food safety norms.
        </p>

        <p>
            We focus on customer satisfaction by maintaining high-quality standards,
            reliable sourcing, and timely delivery. Every product from Food Haven reflects
            our dedication to purity, freshness, and excellence.
        </p>

        <h3>Our Strengths</h3>
        <p>
            âœ” High-quality raw materials<br>
            âœ” Hygienic and safe processing<br>
            âœ” Consistent taste and premium quality<br>
            âœ” Customer-focused approach<br>
            âœ” Fair pricing and dependable service
        </p>

        <h3>Our Vision</h3>
        <p>
            To become a leading food brand by providing healthy, safe, and delicious
            food products that customers can trust.
        </p>

        <h3>Our Mission</h3>
        <p>
            âœ” To deliver high-quality and hygienic food products<br>
            âœ” To follow strict food safety and quality standards<br>
            âœ” To continuously improve through innovation and excellence
        </p>

    </div>



    <footer class="wholesale-footer">
        <div class="footer-content">
            <h3>Wholesale Orders</h3>
            <p>Interested in bulk purchases? Contact us directly for wholesale pricing and large quantity orders.</p>

            <div class="footer-contacts">

                <a href="https://wa.me/918053765594?text=Hello%20Food%20Haven,%20I%20am%20interested%20in%20placing%20a%20wholesale%20order.%20Please%20share%20bulk%20pricing%20details."
                   target="_blank"
                   class="footer-link">
                    ðŸ“± WhatsApp: +91 8053765594
                </a>
                <a href="https://wa.me/9199494484140?text=Hello%20Food%20Haven,%20I%20am%20interested%20in%20placing%20a%20wholesale%20order.%20Please%20share%20bulk%20pricing%20details."
                   target="_blank"
                   class="footer-link">
                    ðŸ“± WhatsApp: +91 9949448414
                </a>


                <a href="https://mail.google.com/mail/?view=cm&fs=1&to=Foodhavenbhasa21@gmail.com&su=Wholesale%20Order%20Inquiry&body=Hello%20Food%20Haven,%0A%0AI%20am%20interested%20in%20placing%20a%20bulk%20order.%20Please%20share%20your%20wholesale%20pricing%20details.%0A%0AThank%20you."
                   target="_blank"
                   class="footer-link">
                    âœ‰ Email:Foodhavenbhasa21@gmail.com
                </a>


            </div>
        </div>
    </footer>


    <script>

        document.addEventListener("DOMContentLoaded", function () {
            /* ================= PRODUCTS DATA ================= */

            const PRODUCTS = {
                dryfruits: [
                    { name: "Almonds", price: 1000, unit: "1000g", img: "images/almonds.jpg" },
                    { name: "Cashews", price: 850, unit: "1000g", img: "images/cashews.jpg" },
                    { name: "Chocolate Cashew", price: 1600, unit: "1000g", img: "images/chocolatecashew.jpg" },
                    { name: "Kishmish", price: 800, unit: "1000g", img: "images/kishmish.jpg" },
                    { name: "Salted Almonds", price: 1200, unit: "1000g", img: "images/saltedalmonds.jpg" },
                    { name: "Chocolate Kishmish", price: 1100, unit: "1000g", img: "images/chocolatekishmish.jpg" },
                    { name: "Dates", price: 900, unit: "1000g", img: "images/dates.jpg" }
                ],
                masalas: [
                    { name: "Turmeric", price: 32, unit: "100g", img: "images/turmeric.jpg" },
                    { name: "Coriander Powder", price: 28, unit: "100g", img: "images/corianderpowder.jpg" },
                    { name: "Red Chilli", price: 35, unit: "100g", img: "images/redchilli.jpg" },
                    { name: "Jeera Powder", price: 30, unit: "100g", img: "images/jeerapowder.jpg" },
                    { name: "Black Pepper", price: 140, unit: "100g", img: "images/blackpepper.jpg" },
                    { name: "Garam Masala", price: 72, unit: "100g", img: "images/garammasala.jpg" }
                ],
                achars: [
                    { name: "Mango Pickle", price: 300, unit: "1000g", img: "images/mangopickle.jpg" }
                ]
            };

            function renderProducts(sectionId, items) {
                const grid = document.getElementById(sectionId);

                grid.innerHTML = items.map(p => `
            <div class="card" data-name="${p.name}">
                <img src="${p.img}" loading="lazy" decoding="async" alt="${p.name}">
                <div class="card-body">
                    <h4>${p.name}</h4>
                    <div class="price">â‚¹${p.price} / ${p.unit}</div>
                    <div class="controls">
                        <button class="remove" onclick="removeItem('${p.name}')">âˆ’</button>
                        <div class="qty" id="qty-${p.name.replace(/\s+/g, '')}">0</div>
                        <button class="add" onclick="addItem('${p.name}',${p.price})">+</button>
                    </div>
                </div>
            </div>
        `).join("");
            }

            renderProducts("dryfruits-grid", PRODUCTS.dryfruits);
            renderProducts("masalas-grid", PRODUCTS.masalas);
            renderProducts("achars-grid", PRODUCTS.achars);


            /* ================= HEADER LOAD ================= */
            const header = document.getElementById("mainHeader");
            const logo = document.querySelector(".logo");
            const searchContainer = document.querySelector(".search-container");
            const cartBtn = document.querySelector(".cart-button");
            const hero = document.querySelector(".hero");
            const aboutBtn = document.querySelector(".about-button");

            requestAnimationFrame(() => {
                header.classList.add("show");
                logo.classList.add("show");
                searchContainer.classList.add("show");
                cartBtn.classList.add("show");
                aboutBtn.classList.add("show");
                hero.classList.add("show");
            });



            /* ================= SCROLL REVEAL ================= */
            const observer = new IntersectionObserver(entries => {
                entries.forEach(entry => {
                    const ratio = entry.intersectionRatio;
                    if (ratio > 0.35) entry.target.classList.add("show");
                    else if (ratio < 0.15) entry.target.classList.remove("show");
                });
            }, { threshold: [0, 0.15, 0.35, 1] });

            document.querySelectorAll(".products h3,.card")
                .forEach(el => observer.observe(el));


            /* ================= SEARCH ================= */
            const searchInput = document.getElementById("searchInput");
            const resultsBox = document.getElementById("searchResults");
            const cards = [...document.querySelectorAll(".card")];

            searchInput.addEventListener("input", function () {

                const value = this.value.toLowerCase().trim();
                resultsBox.innerHTML = "";

                if (!value) {
                    resultsBox.style.display = "none";
                    return;
                }

                const matches = cards.filter(card =>
                    card.dataset.name.toLowerCase().includes(value)
                );

                if (!matches.length) {
                    resultsBox.style.display = "none";
                    return;
                }

                const fragment = document.createDocumentFragment();

                matches.forEach(card => {
                    const item = document.createElement("div");
                    item.className = "search-item";
                    item.innerHTML =
                        `<img src="${card.querySelector("img").src}">
                                                 <span>${card.dataset.name}</span>`;

                    item.onclick = function () {
                        const y = card.getBoundingClientRect().top +
                            window.pageYOffset -
                            (window.innerHeight / 2) +
                            (card.offsetHeight / 2);

                        window.scrollTo({ top: y, behavior: "smooth" });

                        setTimeout(() => {
                            card.classList.add("highlight");
                            setTimeout(() => card.classList.remove("highlight"), 800);
                        }, 500);

                        resultsBox.style.display = "none";
                        searchInput.value = "";
                    };

                    fragment.appendChild(item);
                });

                resultsBox.appendChild(fragment);
                resultsBox.style.display = "block";
            });

            document.addEventListener("click", function (e) {
                if (!e.target.closest(".search-container"))
                    resultsBox.style.display = "none";
            });


            /* ================= CART ================= */
            const cart = {};
            const cartItemsContainer = document.getElementById("cart-items");
            const cartCount = document.getElementById("cart-count");
            const totalEl = document.getElementById("total");
            const qtyElements = [...document.querySelectorAll(".qty")];

            window.addItem = function (name, price) {
                cart[name] = cart[name]
                    ? { ...cart[name], qty: cart[name].qty + 1 }
                    : { price, qty: 1 };

                updateUI();
            };

            window.removeItem = function (name) {
                if (!cart[name]) return;

                cart[name].qty--;
                if (cart[name].qty <= 0) delete cart[name];

                updateUI();
            };

            function updateUI() {

                let count = 0;
                let total = 0;
                let html = "";

                qtyElements.forEach(q => q.textContent = 0);

                for (const name in cart) {

                    const item = cart[name];
                    const itemTotal = item.qty * item.price;

                    count += item.qty;
                    total += itemTotal;

                    html += `
<div class="cart-item">
                                    <div class="cart-left">
                                        <div>${name}</div>
                                        <div class="cart-controls">
                                            <button onclick="removeItem('${name}')">âˆ’</button>
                                            <span>${item.qty}</span>
                                            <button onclick="addItem('${name}', ${item.price})">+</button>
                                        </div>
                                    </div>
                                    <div>â‚¹${itemTotal}</div>
</div>
`;

                    const qtyEl = document.getElementById(
                        "qty-" + name.replace(/\s+/g, "")
                    );
                    if (qtyEl) qtyEl.textContent = item.qty;
                }

                cartItemsContainer.innerHTML = html;
                cartCount.textContent = count;
                totalEl.textContent = total;
            }

            window.toggleCart = function () {
                const cartEl = document.getElementById("cart");
                const overlay = document.getElementById("overlay");

                cartEl.classList.toggle("open");
                overlay.classList.toggle("show");

                if (cartEl.classList.contains("open"))
                    header.classList.add("hide");
                else
                    header.classList.remove("hide");
            };
            window.toggleAbout = function () {
                const about = document.getElementById("aboutPanel");
                const overlay = document.getElementById("overlay");

                const isOpen = about.classList.contains("open");

                closePanels(); // always reset everything first

                if (!isOpen) {
                    about.classList.add("open");
                    overlay.classList.add("show");
                    header.classList.add("hide");
                }
            };


            window.closePanels = function () {
                document.getElementById("cart").classList.remove("open");
                document.getElementById("aboutPanel").classList.remove("open");
                document.getElementById("overlay").classList.remove("show");
                header.classList.remove("hide");
            };




            /* ================= ORDER ================= */
            function generateOrderId() {
                return "FH-" + Math.floor(100000 + Math.random() * 900000);
            }

            window.sendWhatsAppOrder = function () {

                const name = document.getElementById("customerName").value.trim();
                const phone = document.getElementById("customerPhone").value.trim();
                const address = document.getElementById("customerAddress").value.trim();

                if (!name) return alert("Enter customer name.");
                if (!/^[6-9]\d{9}$/.test(phone))
                    return alert("Enter valid 10 digit mobile number.");
                if (!address) return alert("Enter delivery address.");
                if (!Object.keys(cart).length)
                    return alert("Cart is empty.");

                const SELLER_NUMBER = "918053765594";
                const orderId = generateOrderId();

                let message =
                    `Order ID: ${orderId}

Customer Details:
Name: ${name}
Mobile: ${phone}
Address: ${address}

Order:
`;

                let total = 0;

                for (const itemName in cart) {
                    const item = cart[itemName];
                    const itemTotal = item.qty * item.price;
                    total += itemTotal;
                    message += `- ${itemName} x ${item.qty} = â‚¹${itemTotal}\n`;
                }

                message += `\nTotal: â‚¹${total}`;

                window.open(
                    `https://wa.me/${SELLER_NUMBER}?text=${encodeURIComponent(message)}`,
                    "_blank"
                );
            };


            /* ================= PARTICLES (slightly optimized loop) ================= */
            const canvas = document.getElementById("bg-canvas");
            const ctx = canvas.getContext("2d");
            let w, h, time = 0;

            function resize() {
                w = canvas.width = window.innerWidth;
                h = canvas.height = window.innerHeight;
            }
            window.addEventListener("resize", resize);
            resize();

            const particles = Array.from({ length: 140 }, () => ({
                x: Math.random() * w,
                y: Math.random() * h,
                vx: 0,
                vy: 0,
                r: Math.random() * 2 + 1,
                offset: Math.random() * Math.PI * 2
            }));
            const mouse = {
                x: null,
                y: null,
                radius: 120
            };

            window.addEventListener("mousemove", e => {
                mouse.x = e.clientX;
                mouse.y = e.clientY;
            });

            window.addEventListener("touchmove", e => {
                mouse.x = e.touches[0].clientX;
                mouse.y = e.touches[0].clientY;
            }, { passive: true });

            window.addEventListener("mouseleave", () => {
                mouse.x = null;
                mouse.y = null;
            });


            function lerp(a, b, t) { return a + (b - a) * t; }

            function animate() {

                time += 0.004;

                const grad = ctx.createLinearGradient(0, 0, 0, h);
                grad.addColorStop(0, "#de5500");
                grad.addColorStop(1, "#ffffff");

                ctx.fillStyle = grad;
                ctx.fillRect(0, 0, w, h);

                for (let i = 0; i < particles.length; i++) {

                    const p = particles[i];

                    p.vx += Math.cos(time + p.offset) * 0.004;
                    p.vy += Math.sin(time + p.offset) * 0.004;

                    p.vx *= 0.96;
                    p.vy *= 0.96;
                    // ===== INTERACTION =====
                    if (mouse.x !== null) {
                        const dx = p.x - mouse.x;
                        const dy = p.y - mouse.y;
                        const dist = Math.sqrt(dx * dx + dy * dy);

                        if (dist < mouse.radius) {
                            const force = (mouse.radius - dist) / mouse.radius;
                            const angle = Math.atan2(dy, dx);

                            p.vx += Math.cos(angle) * force * 0.4;
                            p.vy += Math.sin(angle) * force * 0.4;
                        }
                    }


                    p.x += p.vx;
                    p.y += p.vy;

                    const t = p.y / h;

                    ctx.fillStyle =
                        `rgba(${Math.round(lerp(255, 249, t))},
                                                       ${Math.round(lerp(255, 115, t))},
                                                       ${Math.round(lerp(255, 22, t))},
                                                       0.65)`;

                    ctx.beginPath();
                    ctx.arc(p.x, p.y, p.r, 0, Math.PI * 2);
                    ctx.fill();
                }

                requestAnimationFrame(animate);
            }

            animate();

        });
    </script>

</body>
</html>